# 03.面向对象的基础语法

## 目标

- `dir`内置函数
- 定义简单的类(只包含方法)
- 方法中的`self`参数
- 初始化方法
- 内置方法和属性

<br/>
<br/>
<br/>

## 1、dir内置函数（知道）

- dir()函数可以查看类的属性和方法
- 其中`__方法名__`是`Python`提供的内置方法

序号|方法名|类型|作用
---|---|---|---
1|__new__|方法|创建对象时，会被自动调用
2|__init__|方法|对象呗初始化时，会被自动调用
3|__del__|方法|对象被从内存中销毁前，会被自动调用
4|__str__|方法|返回对象的描述信息，pring函数输出使用

<br/>
<br/>
<br/>

## 2、类的简单定义

### 2.1 定义

```python
class 类名：
    def 方法1（self, 参数）:
        pass
```

### 2.2 创建

```
对象 = 类名()
```

**引用概念的强调**

> *在面向对象开发中，**引用**的概念同样适用*

> 引用的概念类似于swift中的引用类型的概念

- 在`Python`中使用类创建对象之后，`tom`变量中仍然记录的是对象在内存中的地址

- 也就是`tom`变量**引用**了**新建的对象**

<br/>
<br/>
<br/>

## 3、方法中的self参数

**self可以接收到调用方法的对象引用**

### 3.1 案例改造——给对象增加属性

- 在`Python`中，要给对象设置属性，非常的容易，但**不推荐**，因为属性的封装应该封装在类的内部

- 使用`对象.新增属性 = `就可以实现

```python
class Cat:
    def eat(self):
        print("wanna eat")

tom = Cat()
tom.name = "Tom"
# tom已经有了新的属性name
```
> 不推荐

### 3.2 self

`self`代表着这个对象的引用，也就是这个对象自己

- 在调用一个对象的方法时，不需要传递`self`参数

- 在方法内部
    
    - 可以通过`self.`访问**对象的属性**
    
    - 也可以通过`self.`调用**其他的对象方法**

<br/>
<br/>
<br/>

## 4、初始化方法

### 4.1 初始化方法

- 当使用`ClassName()`创建对象时，会自动执行以下操作：

    - 1. 为对象在内存中**分配空间**——创建对象
    
    - 2. 为对象的属性**设置初始值**，初始化方法（`init`)

- 这个初始化方法就是`__init__`方法，`__init__`是对象的内置方法

> `__init__`方法专门用来定义一个类具有哪些**属性**的方法。

### 4.2 在初始化方法内部定义属性

- 在`__init__`方法内部使用`self.属性名 = 属性初始值`就可以**定义属性**

- 在定义属性后，在使用`Cat`创建的对象，都会拥有该属性

### 4.3 改造初始化方法——初始化的同时设置初始值

- 在开发中，如果希望创建对象的同时就设置对象的属性，可以对`__init__`方法进行改造
    1. 把希望设置的属性值定义成`__init__`方法的参数
    2. 在方法内部`self.属性 = 形参`使用接受外部传递的参数
    3. 在创建对象时，使用`类名（属性1, 属性2）`调用

> 参数名称不要写么

<br/>
<br/>
<br/>

## 5、内置方法和属性
序号|方法名|类型|作用
---|---|---|---
01|__del__|方法|对象从内存中销毁前，会被自动调用
02|__str__|方法|返回对象的描述信息，print函数输出使用

### 5.1 __del__方法

- 在Python中
    - 当使用`类名()`创建对象时，为对象分配完空间后，自动调用`__init__`方法
    - 当一个对象从内存中销毁前，会自动调用`__del__`方法
- 应用场景
    - `__init__`改造初始化方法，可以让创建对象更加灵活
    - `__del__`如果希望在对象被销毁之前，在做一些事情，可以使用这个方法
- 生命周期
    - 在对象创建时，生命周期开始
    - 一个对象的`__del__`方法一旦被调用，生命周期结束
    - 在对象的生命周期内，可以访问**对象属性**，或者让对象调用方法

### 5.2 __str__方法

- 在`Python`中，使用`print(对象名)`输出**对象变量**，默认下只能看到这个变量引用的对象是由哪一个类创建的，以及这个对象在内存中的地址。

- 如果在开发中，希望使用输出自定义内容，可以使用`__str__`方法
> 注意：`__str__`方法必须返回一个字符串
