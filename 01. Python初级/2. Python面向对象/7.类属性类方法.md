# 07.类属性类方法

## 目标

- 类的结构

- 类属性和实例属性

<br>
<br>
<br>

## 1、类的结构

### 1.1 术语——实例

1. 使用面向对象开发，第一步是**设计类**

2. 使用类名()创建对象，创建对象的动作有两步：
    - 1. 在内存中为对象**分配空间**
    - 2. 调用初始化方法`__init__`为对象**初始化**
3. 对象创建后，**内存**中就有了一个对象的实实在在的存在 -- **实例instance**

因此，通常也会把：

1. 创建出来的**对象**叫做**类的实例**
2. 创建对象的动作叫做**实例化**
3. 对象的属性叫做**实例属性**
4. 对象调用的方法叫做**实例方法**

在程序执行时：

1. 对象各自拥有自己的**实例属性**
2. 调用对象方法，可以通过`self.`
    - 访问自己的属性
    - 调用自己的方法

**结论：**

- 每一个对象都有自己独立的内存空间，**保存各自不同的属性**

- 多个对象的方法，**在内存中只有一份**（具体保存在哪里，下面讲到），在调用方法时，**需要把对象的引用**(`self`)传递到方法的内部。

### 1.2 类是一个特殊的对象

> swift中的类型属性？

> *`Python`中 一切皆对象：（这不是和swift一样吗）*
> - *`class AAA:` 定义的类属于 **类对象***
> - *`obj1 = AAA()` 属于 **实例对象***

- 在程序运行时，**类** 同样会被加载到内存
- 在`Python`中，类 是一个特殊的对象 —— **类对象**
- 在程序运行时，**类对象**在内存中**只有一份**，使用**一个类**可以创建出**很多个实例**
- 出了封装 **实例** 的 **属性** 和方法外，**类对象** 还可以拥有自己的 **属性** 和 **方法**
    1. **类属性**
    2. **类方法**
- 通过 **类名** 的方式可以访问**类属性**或者调用**类方法**

> 的确是类型属性和类型方法


<br/>
<br/>
<br/>

## 2、类属性和实例属性

### 2.1 概念和使用

- **类属性** 就是给 **类对象** 中定义的 **属性**
- 通常用来记录 **与这个类相关** 的特征
- **类属性** 不会用于 记录 **具体对象的特征**

> Python

```python
class A:

    # 在Python中，可以通过实例直接访问到类属性
    # 使用赋值语句直接定义 类属性
    count = 0
    
    def __init__(self, name):
        A.count += 1
    
```

> Swift

```swift
class A{
    //使用关键词 static 定义 类型方法
    static func aName(){

    }
    //类型属性
    static var aValue = 20
}
```

### 2.2 属性的获取机制

- 在Python中，**属性的获取** 存在一个向上查找机制

> 当访问实例的属性时：
>    1. 首先在对象内部查找对象属性
>    2. 没有找到就会向上寻找类属性


- 因此，要访问类属性有两种方式：
    1. **类名.类属性**
    2. **对象.类属性（不推荐）**

**注意**

- 如果使用`对象.类属性 = 值`的赋值语句，只会给对象**添加**一个属性，而不会影响到类属性的值

<br>
<br>
<br>

## 3、类方法和静态方法

### 3.1 类方法
- **类方法** 就是针对 **类对象** 定义的方法
    - 在 **类方法** 内容可以直接访问 **类属性** 或者调用其他的 **类方法**

语法如下

```python
class A:
    @classmethod
    def 类方法名(cls):
        pass
    
    def 实例方法(self):
      	pass
  
```

- 类方法需要用 **修饰器**`@classmethod`来标识，告诉解释器这是一个类方法

- 类方法的 **第一个参数** 应该是`cls`
    - 由**哪一类** 调用的方法，方法内的`cls`就是 **哪一个类的引用**(和self相似)
    - 这个参数和 **实例方法** 

- **在方法内部**
  - 可以通过`cls.`访问类的属性
  - 也可以通过`cls.`调用其他的类方法

### 3.2 静态方法

- 在开发时，如果需要在 **类** 中封装一个方法，这个方法:
  - 既不需要访问**实例属性**或者**调用实例方法**
  - 也不需要访问**类属性**或者调用**类方法**

- 这个时候，可以把这个方法封装成一个静态方法

**语法如下**

```python
@staticmethod
def 静态方法():
	pass
```
- 静态方法需要**修饰器**`@staticmethod`来标识


