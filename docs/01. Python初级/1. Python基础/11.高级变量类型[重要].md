# 11.高级变量类型[**重要**]

## 目标

- 列表
- 元组
- 字典
- 字符串
- 公共方法
- 变量高级
- 列表推导式与集合

## 知识点

Python中数据类型可以分为：

- 数字型：

    - 整型`int`
    - 浮点型`float`
    - 布尔型`bool`
        - 真`True`
        - 假`False`
    - 复数型`complex`
        - 主要用于科学计算，例如：平面场问题、波动问题、电感电容问题

- 非数字型：

    - 字符串
    - 列表
    - 元组
    - 字典

- 在Python中，所有的**非数字型**变量都支持以下特点：

    1. 都是一个**序列**`sequence`，也可以理解为**容器**
    2. **取值**`[]`
    3. **遍历**`for in`
    4. **计算长度、最大/最小值、比较、删除**
    5. **链接**`+`和**重复**`*`
    6. **切片**

<br/>
<br/>
<br/>

## 1、列表 list
> swift中的Array

### 1.1 列表的定义

- `List`列表是Python中使用最频繁的数据类型，在其他语言中通常叫做**数组**

- 专门用处储存**一串信息**

- 列表用`[]`定义，数据之前使用`,`分隔

- 列表的**索引**从`0`开始 (列表也能够进行切片)

    - 索引就是数据在列表中的位置编号，索引又可以被称为**下标** 

> 注意：从列表中取值时，如果超出索引范围，程序会报错(不能用该方法添加列表值)

### 1.2 列表中的方法

| 序号   | 分类   | 关键字/函数/方法        | 说明        |
| ---- | ---- | ---------------- | --------- |
| 1    | 增加   | 列表.insert(索引，数据) | 在指定位置插入数据 |
| | | 列表.append(数据) | 在末尾追加数据 
| | | 列表.extend(列表2) | 将列表2的数据追加到列表
|2 | 修改 | 列表[索引] = 数据 | 修改指定索引的数据
|3 | 删除 | del 列表[索引] | 删除指定索引的数据
| | | 列表.remove[数据] | 删除第一个出现的指定数据
| | | 列表.pop | 删除末尾数据，并返回删除数据
| | | 列表.pop(索引) | 删除指定索引数据，并返回删除数据
| | | 列表.clear(清空列表) | 清空列表
|4 | 统计 | len(列表) | 列出长度
| | | 列表.count(数据) | 数据在列表中出现的次数
|5 | 排序 | 列表.sort | 升序排序
| | | 列表.sort(reverse=True) | 降序排序
| | | 列表.reverse() | 逆序、反转

### 1.3 循环遍历

- **遍历**就是**从头到尾**一次从**列表**中获取数据
    - 在**循环体内部**针对**每一个元素**，执行相同操作

- 在`Python`中为了提高列表的遍历效率，专门提供的 **迭代 

iteration 遍历**

- 使用`for`能够实现遍历

- `enumrate()`函数的遍历

```python
a = [1, 2, 4, 5]
for i in enumrate(a):
	print(i)
>>> (0, 1)
>>> (1, 2)
>>> (2, 4)
>>> (3, 5)
```

**列表的应用场景**

- 尽管`Python`的列表中可以**存储不同类型的数据**

- 但在开发中，更多的应用场景是
    1. 列表 存储相同类型的数据
    2. 通过迭代遍历，在循环体内部，针对列表中的每一项元素，执行相同的操作。

<br>
<br>
<br>

## 2、元组

### 2.1 元组的定义

- `Tuple`(元组)与列表类似，不同之处在于**元组的元素不能修改**
    - **元组**表示多个元组组成的序列
    - **元组**在`Python`开发中，有特定的应用场景

- 用于储存一串信息，数据之间`,`分隔

- `()`定义

- 元组的索引从`0`开始

> 定义只包含一个元素的元组，在元素后加`, `，否则会和`()`数学运算搞混

```python
single_tuple = (5, )
```

### 2.2 元组的常用操作

- 取值 []
- 索引 .index
- 计数 .count
- 个数 len()

### 2.3 循环遍历

- 从头到尾一次从元组中获取所有数据

> - 在`Python`中，可以使用`for`循环遍历所有非数字类型的变量：**
列表、元组、字典以及字符串**

> - 在实际开发中，对元组遍历需求不多

### 2.4 应用场景

- 函数的**参数**和**返回值**，一个函数可以接受任意多个参数，或者一次返回多个数据

- **格式字符串**，格式化字符串后面`()`本质上就是元组

- 让**列表****不可以被修改**，以保护数据安全

**元组和列表之间的转换**

- `list()`函数将元组编程列表

- `tuple()`函数将列表编程元组

<br>
<br>
<br>

## 3、字典

### 3.1 字典的定义

- `dictionary`(字典)可以储存多个数据
    - 通常用于存储描述一个物体的相关信息

- 和列表的区别
    - 列表是**有序**的对象集合
    - 字典是**无序**的对象集合

- `{}`定义字典

- **键值对**
    - **key** 必须是唯一的 
    - **value**
    - **值**可以是任何数据类型，但**键**只能是字符串、数字或元组

> 如果在定义一个字典是，有两个键一样，则取后面一个键的值

### 3.2 字典的常用操作

| 序号| 类型| 函数| 说明|
| ---- | ---- | --------------- | --------------------------------------- |
| 1    | 查    | len()| 统计键值对个数|
| 2    | 改    | .update()| 合并键值对，如果包含已存在的key则会覆盖原来的value|
| 3    | 删    | .clear()| 清空字典|
| 4    | 删    | del| 删除一个键值对|
| 5    | 删    | .pop(key)| 删除并返回一个键值对|
| 6    | 查    | .get(key)|通过key来索引，如果键存在，则返回值，如果键不存在，则返回`None`|
| 7    | 查    | .get(key, '默认值') | 通过key来索引，如果键存在，则返回值，如果键不存在，还可以返回设置的默认值   |
| 8    | 查    | .keys()| 获取所有的键，返回一个可迭代叫dict_keys的enumerate类的对象   |
| 9    | 查    | .values()| 获取所有的值，返回一个可迭代叫dict_values的enumerate类的对象 |
| 10   | 查    | .items()| 获取所有键值对，返回一个可迭代叫dict_items的enumerate类的对象 |
| 11   | 增    | .setdefault()|  如果键不存在，则 **创建** 一个键，并且设置成默认值，如果已经存在则不会修改键值 |

### 3.3 字典的遍历

- 在实际开发中，由于字典中每一个键值对保存的数据类型不同，所以针对字典的循环遍历需求不多？

- 在遍历字典时，可以直接for in 字典，直接遍历键

    ```python
    dic = {"one":"1","two":"2","three":"3"}

    # 遍历键
    for key in dic.keys():
        pass
    for key in dic:
        pass

    # 遍历值
    for value in dic.values():
        pass

    # 遍历键值对
    for k, v in dic.items():
        pass
    # 每次返回的都是一个元组(key, value) 并且直接将k, v赋值给元组的两个元组
    ```

### 3.4 应用场景

- 使用多个键值对，存储描述一个物体的相关信息——**描述更复杂的数据信息**

- 将**多个字典**放在一个**列表**中，在循环内部针对每一个字典进行**相同处理**

<br>
<br>
<br>

## 4、字符串

### 4.1 字符串定义

- 字符串就是一串字符，是编程语言中表示文本的数据类型

- 在Python中可以使用一对`'`或者一对`"`定义一个字符串

    - `"`内部可以不用转译`'`

    - `'`内部可以不用转译`"`

- 索引字符串也从0开始

- 也可以使用`for`遍历字符串

> 大多数编程语言都是`"`来定义一个字符串的

### 4.2 基本操作

字符串有很多方法，如何有效学习这些方法

**1）判断类型 - 9**

| 方法           | 说明                                       |
| ------------ | ---------------------------------------- |
| .isspace()   | 是否只包含空白字符(包含`\t`和`\n`)，则返回True           |
| .isalpha()   | 至少有一个字符并且所有字符都是字母返回 True                 |
| .isalnum()   | 至少有一个字符并且所有字符都是字母或数字返回True               |
| .isdecimal() | 只包含数字则返回True，全角数字                        |
| .isdigit()   | 只包含数字则返回True，全角数字、(1)、\u00b2             |
| .isnumeric() | 只包含数字则返回True，全角数字，汉子数字                   |
| .istitle()   | 每个单词的首字母大写的话则返回True                      |
| .islower()   | 包含至少一个区分大小写的字符，并且所有这些（区分大小写的）字符都是小写，返回True |
| .issupper()  | 包含至少一个区分大小写的字符，并且所有这些（区分大小写的）字符都是大写，返回True |

**2）查找和替换 - 7**

| 方法                                       | 说明                                       |
| ---------------------------------------- | ---------------------------------------- |
| .isstartswith()                          | 检查以xx开头(注意区分大小写)                         |
| .isendswith()                            | 以结尾                                      |
| .find(str, start=0, end=len(string)      | 检测是否包含str，在start和end范围内查找，如果是返回开始的索引值，否则返回-1 |
| .rfind(str, start=0, end=len(string))    | 类似于上面的方法，不过从右边开始找                        |
| .index(str, strart=0, end=len(string)    | 类似于find()方法，只不过如果str不在字符串中会报错            |
| .rindex()                                | 反向index()方法                              |
| .replace(old_str, new_str, num=string.count(old)) | 把字符串中old_str换成new_str,如果num指定，则替换不超过num次 |

**3）大小写切换 - 5**

| 方法            | 说明                 |
| ------------- | ------------------ |
| .capitalize() | 把字符串第一个字符大写        |
| .title()      | 把字符串的每个单词首字母大写     |
| .lower()      | 转换string中所有大写字符为小写 |
| .upper()      | 转换string中小写字母为大写   |
| .swapcase()   | 翻转string中的大小写      |

**4）文本对其 - 3**

| 方法             | 说明                              |
| -------------- | ------------------------------- |
| .ljust(width)  | 返回一个原字符串左对齐，并使用空格填充长度width的新字符串 |
| .rjust(width)  | 返回一个原字符串右对齐，并使用空格填充长度width的新字符串 |
| .center(width) | 返回一个原字符串居中，并使用空格填充长度width的新字符串  |

**5）去除空白字符 - 3**

| 方法        | 说明          |
| --------- | ----------- |
| .lstrip() | 截掉左边的空白字符   |
| .rstrip() | 截掉右边的空白字符   |
| .strip()  | 截掉左右两边的空白字符 |

**6）拆分和连接 - 5**

| 方法                     | 说明                                       |
| ---------------------- | ---------------------------------------- |
| .partition(str)        | 把字符串分成一个3元素的元组，str前/str/str后             |
| .rpartition(str)       | 类似上面的方法，只不过从右边开始                         |
| .split(sep=None, maxsplit=-1) | 以sep为分隔符拆分string,sep默认包含\r \t \n和空格,maxsplit指定分隔几次|
| .splitnes()            | 按照行分隔，返回一个包含各行作为元素的列表                    |
| string.join(seq)       | 以 **string作为分隔符** ，将seq中所有的元素合并成一个新的字符串  |

### 4.3 字符串的切片

- 切片 方法适用于字符串、列表、元组
    - **切片**使用**索引值**来限定范围，从一个大的字符串中切出小的字符串
    - **列表**和**元组**都是有序的集合，都能够通过索引值获取到对应的数据
    - **字典**是一个**无序**集合，是使用键值对保存数据的

`字符串[开始索引:结束索引:步长]`

注意：

1. 指定的区间是其实是[)型的，因此不会取到后面的值
2. 从头开始，开始索引 数字可以省略，但是**冒号不能省略**
3. 到末尾结束，结束索引 数字可以省略，但**冒号不能省略**
4. 步长默认为`1`，如果连续切片，数字和冒号都可以省略
5. 切片不存在越界（不会报错）

<br>
<br>
<br>

## 5、公共方法

### 5.1 Python内置函数

Python包含了以下内置函数：

| 函数    | 描述                 | 备注             |
| ----- | ------------------ | -------------- |
| len() | 计算容器中元素的个数         |                |
| del() | 删除变量               | del有两种方式       |
| max() | 返回容器中元素最大值         | 如果是字典，只针对key比较 |
| min() | 返回容器中元素最小值         | 如果是字典，只针对key比较 |
| cmp() | 比较两个值，-1小于/0等于/1大于 | 3.0中取消了cap()函数 |

> **容器**：能装多个数据的类型：字符串、列表、元组、字典

> **序列**：有顺序的容器：字符串、列表、元组

注意：

- **字符串** 比较符合以下规则 '0' < 'A' < 'a'

### 5.2 切片

- 有序结合都可以进行切片 字符串、元组、列表

- 字典是无需的，因此不能切片

### 5.3 运算符

| 运算符          | 表达式                   | 结果           | 描述      | 支持的数据类型      |
| ------------ | --------------------- | ------------ | ------- | ------------ |
| +            | [1, 2]+[3, 4]         | [1, 2, 3, 4] | 合并      | 字符串、列表、元组    |
| *            | ["Hi"]*2              | ["Hi", "Hi"] | 重复      | 字符串、列表、元组    |
| in           | 3 in (1, 2, 3)        | True         | 元素是否存在  | 字符串、列表、元组、字典 |
| not in       | 4 not in (1, 2, 3, 4) | True         | 元素是否不存在 | 字符串、列表、元组、字典 |
| > >= == < <= | (1, 2, 3) < (1, 2, 3) | True         | 元素比较    | 字符串、列表、元组    |

**注意**

- `in`在字典操作时，判断的是字典的**键**

- `in` 和 `not in` 被称为**成员运算符**

### 5.4 完整的for循环语法

- 在Python中完整的for循环语法：

```python
for 变量 in 集合:

    循环体代码
else:
    没有通过break退出循环，循环结束后，会执行的代码
```

- 常见的应用场景
    - **在迭代遍历 嵌套数据类型时**，例如一个列表包含了多个字典
    - 需求：要判断某一个字典中是否存在指定值
    - 如果存在，提示并退出循环
    - 如果不存在，得到同一提示

<br>
<br>
<br>

## 六、列表推导式和集合

### 1. 列表推导式

- 基本格式

    ```python
    ls = [表达式 for x in range(n)]  # 表达式可以将x经过处理，然后追加到列表里
    
    # 等同于
    ls2 = []
    for x in range(n):
        ls2.append(x表达式)
    
    a = [x for x in range(4)]
    # a = [0, 1, 2, 3]
    
    id = ['学号:%d'%x for x in range(4)]
    # id = ['学号:0', '学号:1', '学号:2', '学号:3']
    ```

- 嵌套`if`

    ```python
    ls = [表达式 for x in range(n) if x%2==0]
    
    # 等同于
    ls2 = []
    for x in range(n):
        if x % 2 == 0:
            ls2.append(x)
    
    a = [x for x in range(10) if x%2==0]
    # [0, 2, 4, 6, 8]
    ```

- 两个(多个)`for`循环

    ```python
    ls = [(x,y) for x in range(3) for y in range(3)]
    
    # 等同于，但在底层上，列表表达式是用C语言实现的，速度往往更加快
    ls2 = []
    for x in range(3):
        for y in range(3):
            ls2.append((x, y))
    
    a = [(x,y) for x in range(3) for y in range(3)]
    # [(0, 0), (0, 1), (0, 2), (1, 0), (1, 1), (1, 2), (2, 0), (2, 1), (2, 2)]
    ```

### 2. 集合`set`

> 列表、元组、集合可以相互转换

- 应用场景

    交、定、补

- 定义方式
    
    集合里面不能放可变类型

    ```python
    a = []
    c = set(a)  # c为集合，内容由列表转化
    
    c = {}  # 定义一个新的集合
    
    ```
    
- 集合的特性
    
    - 去重 - hash
    - 无序
    - 不能直接查看和修改

- for循环可以遍历集合





