# 目标
- 关机
    - shutdown
- 查看或配置网卡信息
    - ifconfig
    - ping
- 远程登录和复制文件
    - ssh
    - scp
    - ssh高级

<br/>
<br/>
<br/>

## 1、关机
序号 | 命令 | 对应英文 | 作用
---|---|---|---
01 | shutdown 选项 时间 | shutdown | 关机/重新启动

### 1.1 shutdown
- `shutdown` 命令可以安全关闭或者重启电脑
    选项 | 含义
    ---|---
    -r | 重启

>- 不指定选项和参数，默认表示1分钟之后关闭电脑
>- 远程维护服务器时，最好不要关闭系统，而应该重新启动系统

<br/>
<br/>
<br/>

## 2、查看或配置网卡信息
序号 | 命令 | 对应英文 | 作用
---|---|---|---
01 | ifconfig | configure a network interface | 查看/配置计算机当前的网卡配置信息
02 | ping ip地址 | ping | 检测到目标的ip地址 连接是否正常

### 2.1 网卡和ip地址
什么是网卡？

什么是IP地址？

### 2.2 ifconfig
- `ifconfig` 可以查看/配置计算机当前的网卡配置信息
    ```    
    # 快速找到IP地址
    
    ~$ ifconfig | grep inet 
    ```
> 注意 ：一台计算机可能有一个物理网卡和多个虚拟网卡，Linux中物理网卡名字通常是ensXX表示

- `127.0.0.1`被称为 **本地回环/回环地址**，一般用来测试本机网卡是否正常

### 2.3 ping
```
# 检测目标主机是否正常
 ~$ ping IP地址

#检测本地网卡工作正常
 ~$ ping 127.0.0.1
```
- `ping`值越大，速度越慢
    - 原理为发送数据包并且接受返回数据包计算两者时差。
> 术语：ping一下计算机，看看是否开机

> `crtl + c` 停止程序运行

<br/>
<br/>
<br/>

## 3、远程登录和复制文件
序号 | 命令 | 对应英文 | 作用
---|---|---|---
01 | ssh用户名@ip | secure shell | 安全连接
02 | scp用户名@ip文件名或路径 用户名@ip：文件名或路径 | secure copy | 远程复制文件

### 3.1 ssh基础（重点）
在Linux中SSH是非常常用的工具，通过**SSH客户端**我们可以连接到运行了**SSH服务器**的远程机器上

```
graph LR
SSH客户端-->SSH服务器
```
> - 数据传输是**加密**的，可以**防止信息泄露**
> - 数据传输是**压缩**的，可以**提高传输速度**

- SSH客户端是一种使用了`Secure Shell（SSH）`协议连接到远程计算机的软件程序
- `SSH`目前比较可靠，**专为远程登录会话和其他网络服务**提供安全性的协议

    - 利用`SSH协议`可以有效防止**远程管理过程中的信息泄露**
    - 通过`SSH协议`可以对所有传输的数据进行加密，也能够防止DNS欺骗和IP欺骗
    
- `SSH`的另一项优点就是传输的数据可以进行过压缩的，所以可以加快传输速度

**1）域名和端口**

**域名**
- 由一串用点分隔的名字组成，例如`www.baidu.com`
- IP地址的别名，方便用户记忆

**端口号**
- **IP地址**：通过IP地址找到网络上的**计算机**
- **端口号**：通过端口号可以找到计算机上的**应用程序**
    - SSH服务器默认端口号是`22`
- 常见的服务端口号列表：

序号 | 服务 | 端口号
--- | --- | ---
01 | SSH服务器 | 22
02 | Web服务器 | 80
03 | HTTPS | 443
04 | FTP服务器 | 21

**2）SSH客户端的简单使用**

```
ssh [-p port] user@remote
```
- `user` 是在远程机器上的用户名，如果不指定的话默认为当前用户
- `remote` 在远程机器的地址，可以是**IP/域名**，或者是后面提到的**别名**
- `port` 是**SSH Server 监听的端口**，如果不指定，就默认值`22`

> tips :
> - 使用`exit`退出当前用户的登录

> 注意：
> - `SSH`这个终端命令只能在`Linux`和`UNIX`系统下使用
> - `Windows`下需要安装`puTTY`或`XShell`

**3）Windows下的SSH客户端**
- `puTTY` 
- `XShell` 

<br/>

### 3.2 scp
- scp就是`secure copy`，是在Linux下用来进行**远程拷贝文件**的命令
- 地址格式与SSH基本相同，但端口命令`-p`是大写，而不是小写

```
graph LR
SSH客户端文件/目录-->SSH服务器文件/目录
```

```
# ":"后面的路径如果不是绝对路径，则以用户的home目录作为参考路径
# 把本地当前文件夹下的01.py复制到远程桌面上
scp -P port 01.py user@remote:Desktop/01.py

#把远程home目录下的Desktop/01.py复制到当前目录
scp -P port user@remote:Desktop/01.py 01.py

#如果要复制文件夹加上-r的选项
```

> *注意*：
> - scp 只能在`Linux`和`UNIX`下使用
> - `Windows`下可以：
>    - 1、`PuTTy`的`pscp`命令 
>   - 2、安装`FileZilla`使用`FTP`进行文件传输

请注意FTP的端口号为21，而不是SSH的端口22

<br/>

### 3.3 SSH高级（忘了就看一下吧！）
1. 免密码登陆
2. 配置别名

> tips:
> - 有关SSH配置信息都保存在`user/home/.ssh/`中
> - 登陆一次后自动生成`known_hosts`文件记录授权信息

**1）免密码登陆**

**步骤**
- 配置公钥
    - 执行`ssh-Keygen`即可生成SSH钥匙
- 上传公钥到服务器
    - 执行 `ssh-copy-id -p port user@remote`

> *非对称加密算法*
>    - 使用公钥**加密**的数据，需要使用**私钥**解密
>    - 使用私钥**加密**的数据，需要使用**公钥**解密

**2）配置别名**

每次都输入`ssh -p port user@remote`很麻烦，而配置别名可以进一步简化连接步骤

- 在`~/.ssh/config`中追加内容(没有就新建)
    ```
    Host [别名]
        HostName ip地址
        User [远程计算机用户名]
        port 22
    ```
